# Web 版 AI 旅行规划师 (AI Travel Planner)

## 一、说明

本软件旨在简化旅行规划过程，通过 AI 了解用户需求，自动生成详细的旅行路线和建议，并提供实时旅行辅助。



## 二、核心功能

1. 智能行程规划: 用户可以通过语音（或文字，语音功能一定要有）输入旅行目的地、日期、预算、同行人数、旅行偏好（例如：“我想去日本，5 天，预算 1 万元，喜欢美食和动漫，带孩子”），AI 会自动生成个性化的旅行路线，包括交通、住宿、景点、餐厅等详细信息。

2. 费用预算与管理: 由 AI 进行预算分析，记录旅行开销（推荐可以使用语音）。

3. 用户管理与数据存储:
    - 注册登录系统: 用户可以保存和管理多份旅行计划。
    - 云端行程同步: 旅行计划、偏好设置、费用记录等数据云端同步，方便多设备查看和修改。



## 三、技术栈（Web）:自选，以下仅提供一些建议，不是严格要求。

- 语音识别：基于科大讯飞或其他语音识别 API 提供语音识别功能
- 地图导航：基于高德或百度地图 API 提供地理位置服务和导航功能
- 数据库/认证： Supabase，或Firebase Authentication 和 Firestore，或其它你认为合适的服务。
- 行程规划和费用预算：通过大语言模型完成形成规划和费用预算的估计，大语言模型 API 自选
- UI/UX： 地图为主的交互界面，清晰的行程展示，美观的图片。



## 四、注意事项

1. 在程序设置页面增加一个输入 key 的输入窗口或通过配置文件来指定 API Key。而不要将任何 API key 写在代码中。
2. 项目代码提交在 GitHub 上，并提供可以直接下载运行的 docker image 文件和如何运行的 readme 文档。保留尽可能多的、详细的GitHub 提交记录。

PS. 可以通过 Github Actions 将项目打包成 Docker 镜像并推送到阿里云镜像仓库中，相关的操作可以查阅官方文档或通过大模型完成。

---

## 五、本地运行与构建

### 前端（Vite + React）

1. 安装依赖：

   ```bash
   npm install
   ```

2. 本地开发：

   ```bash
   npm run dev
   ```

3. 生产构建：

   ```bash
   npm run build
   ```

### 后端（Spring Boot + Thymeleaf）

后端位于 `backend-java/`。

1. 运行（需要 JDK 17 与 Maven）：

   ```bash
   cd backend-java
   mvn spring-boot:run
   ```

2. 打包可执行 JAR：

   ```bash
   mvn -DskipTests package
   # 生成 target/ai-travel-planner-0.1.0.jar
   java -jar target/ai-travel-planner-0.1.0.jar
   ```

服务默认监听 `http://localhost:8080/`。

### Docker 构建与运行

#### 前端镜像（根目录 Dockerfile）

```bash
docker build -t ai-travel-planner-web:latest .
docker run --rm -p 8081:80 ai-travel-planner-web:latest
# 访问 http://localhost:8081
```

#### 后端镜像（`backend-java/Dockerfile`）

```bash
cd backend-java
docker build -t ai-travel-planner-java:latest .

# 3. 停止并删除旧容器（如果有）
docker stop ai-travel-planner-java
docker rm ai-travel-planner-java

# 4. 启动新容器
docker run -d -p 8080:8080 --name ai-travel-planner-java ai-travel-planner-java:latest
# 访问 http://localhost:8080
```

> 如需同时运行前后端，可分别在不同端口运行容器，或后续引入 docker-compose 统一编排。



## Key
高德地图：
key名称：TravelMap
key: e07004e9b0f165cae3b501f807717b95

模型：
api-key = "sk-f6311402ec014de182f09486ea64ed98"
```python
base_url="https://dashscope.aliyuncs.com/compatible-mode/v1"

model="qwen-plus"
```


测试结果：
```
以下是为两位游客量身定制的**5天4晚日本东京行程**，预算控制在**10,000元人民币以内**，重点聚焦**美食与自然体验**，兼顾交通便利性、住宿舒适度和真实可查的地标景点。

---

## 🌸 行程概览

- **目的地**：日本东京（含周边近郊自然景区）
- **天数**：5天4晚
- **人数**：2人
- **总预算**：10,000元人民币（约75,000日元）
- **偏好主题**：地道美食 + 城市绿洲/自然风光
- **住宿区域建议**：新宿或涩谷（交通枢纽，餐饮丰富）

---

## 💰 总费用估算（两人合计）

| 项目 | 费用（人民币） |
|------|----------------|
| 国际往返机票（经济舱，提前预订） | 3,600 元（1,800 × 2） |
| 住宿（4晚，中端商务酒店双床房） | 2,400 元（600 × 4） |
| 餐饮（每日三餐+小吃） | 2,000 元（200 × 5 × 2） |
| 市内交通（地铁+近郊铁路） | 600 元（300 × 2） |
| 景点门票及其他杂费 | 400 元 |
| **总计** | **9,000 元** |

> ✅ **剩余1,000元可用于购物或应急**

---

## 🗓️ 逐日详细行程安排

---

### **第1天：抵达东京 + 新宿夜景与居酒屋美食**

**📍 主要活动**：抵达成田/羽田机场 → 入住酒店 → 探索新宿夜生活  
**🏨 住宿**：新宿格拉斯丽酒店（Hotel Gracery Shinjuku）或类似  
> - 位置优越，毗邻歌舞伎町，步行可达地铁站  
> - 参考价格：约600元/晚（含税）

**🚇 交通**：
- 成田机场 → 新宿：搭乘「成田特快N'EX」单程约1,400日元/人 ≈ **70元/人**
- 羽田机场 → 新宿：京急线+地铁约600日元/人 ≈ **30元/人**

**🌳 自然元素**：  
- 晚间散步于【**新宿御苑南门绿地步道**】（免费开放至22:00）  
> 东京市中心最大绿地之一，夜晚静谧宜人

**🍽️ 餐饮推荐**：
- 晚餐：【**思い出横丁（Omoide Yokocho）居酒屋街**】  
  > 小巷中的昭和风情烤鸡串（焼き鳥），人均消费约800日元 ≈ **40元/人**
- 小吃：尝试章鱼烧、关东煮摊档

**🎫 门票**：无  
**当日总支出（两人）**：约 **800元**

---

### **第2天：上野公园赏绿 + 浅草文化与老街美食**

**📍 主要活动**：上野公园自然漫步 + 博物馆外围参观 + 浅草雷门美食探索

**🏨 住宿**：继续住新宿（无需换酒店）

**🚇 交通**：使用「东京地铁24小时通票」×2张 = 800日元 ≈ **400元两人全天无限乘坐**

**🌳 自然景点**：
- 【**上野恩赐公园（Ueno Onshi Park）**】  
  > 日本最古老公园之一，春季樱花、秋季红叶胜地，湖边可喂鸭子，林荫道幽静。免费进入。
- 可远观【东京国立博物馆】外景（若时间充裕可入内，门票约1,000日元/人）

**⛩️ 文化地标**：
- 【**浅草寺（Sensō-ji）**】  
  > 东京最古老寺庙，雷门大灯笼为标志性入口。免费进入，求签约300日元。
- 步行通过【**仲见世商店街**】：品尝传统小吃

**🍽️ 餐饮推荐**：
- 午餐：【**大黑家天妇罗专卖店（浅草）**】  
  > 百年老店，经典天妇罗盖饭，人均约1,500日元 ≈ **75元/人**
- 下午茶：【**浅草梅花堂羊羹老铺**】试吃日式甜点
- 晚餐：【**合羽桥道具街附近居酒屋**】体验本地人下班后的烟火气，人均约1,200日元 ≈ **60元/人**

**🎫 门票**：无主要收费景点  
**当日总支出（两人）**：约 **650元**

---

### **第3天：高尾山一日徒步 + 清凉自然之旅**

**📍 主要活动**：登山健行 + 林间温泉体验（可选）  
> 距离东京仅1小时电车，被列入“米其林绿色指南”三星推荐！

**🚇 交通**：
- 新宿 → 高尾山口：搭乘「京王线特急」约55分钟，单程930日元 ≈ **47元/人**
- 缆车/吊椅上下山（可选）：往返1,410日元 ≈ **70元/人**

**🌳 自然景点**：
- 【**高尾山（Mt. Takao）**】  
  > 推荐路线：1号路登山（约1小时登顶），沿途鸟鸣溪流，可观东京全景。山顶有猴子园（免费）。
  > 若体力有限，可乘缆车上半程，再步行至药王院。

**♨️ 可选体验**：
- 山脚【**高尾山温泉・清风庄**】泡汤放松（足浴免费，全身浴约600日元 ≈ **30元/人**）

**🍽️ 餐饮推荐**：
- 午餐：山上便利店简餐或自带便当（推荐尝试「梅干饭团+绿茶」）
- 下山后晚餐：高尾山口站附近拉面店，如【**信长拉面**】，人均约900日元 ≈ **45元/人**

**🎫 门票**：登山免费，缆车非必须  
**当日总支出（两人）**：约 **550元**

---

### **第4天：代代木公园 + 原宿潮流街区 + 涩谷都市森林**

**📍 主要活动**：城市绿洲休闲 + 潮流美食打卡

**🏨 住宿**：继续住新宿

**🚇 交通**：使用地铁通票或IC卡（预充值1,500日元≈75元/人）

**🌳 自然景点**：
- 【**代代木公园（Yoyogi Park）**】  
  > 广阔草坪与银杏大道，常见街头艺人、家庭野餐。免费开放。
  > 春秋季节常有小型音乐节或市集。

**🛍️ 潮流地标**：
- 步行至【**原宿竹下通**】：体验年轻人文化，可试「彩虹棉花糖」「可丽饼」
- 转至【**猫街（Cat Street）**】：精品买手店与咖啡馆林立
- 终点：【**涩谷Scramble Square展望台（SHIBUYA SKY）**】
  > 必须预约！东京最佳城市全景视野，门票1,500日元 ≈ **75元/人**

**🍽️ 餐饮推荐**：
- 午餐：【**Afuri Ramen（原宿店）**】柚子风味拉面，清新不腻，人均约1,200日元 ≈ **60元/人**
- 下午茶：【**Blue Bottle Coffee（清澄白河风格，但原宿也有分店）**】或【% Arabica 涩谷店】
- 晚餐：【**Uobei寿司郎（回转寿司平价之选）**】或【**Ichiran一兰拉面（涩谷店）**】单人隔间体验，人均约1,000日元 ≈ **50元/人**

**🎫 门票**：SHIBUYA SKY 展望台：75元/人 ×2 = **150元**  
**当日总支出（两人）**：约 **700元**

---

### **第5天：皇居外苑晨步 + 返程前轻松采购**

**📍 主要活动**：清晨散步 + 手信购买 + 前往机场

**🏨 退房时间**：上午10:00前

**🌳 自然景点**：
- 【**皇居外苑（Imperial Palace Outer Garden）**】  
  > 包括二重桥、护城河与大片草坪，清晨空气清新，适合慢走拍照。免费开放。
  > 不进宫殿内部（需预约），但外围已足够感受历史与宁静。

**🛍️ 购物推荐**：
- 【**东京站一番街地下街**】：购买白色恋人、Tokyo Banana、Royce生巧等伴手礼
- 或返回【**新宿伊势丹/高岛屋百货地下食品街**】选购即食美味

**🍽️ 餐饮推荐**：
- 午餐：【**筑地市场外场（Tsukiji Outer Market）**】  
  > 虽非原址，但仍有优质海鲜丼、玉子烧、海胆饭等。推荐店铺：【大和寿司】或【大起水产】现场制作
  > 人均约1,500日元 ≈ **75元/人**

**🚇 交通**：
- 新宿 → 东京站：地铁约200日元 ≈ **10元/人**
- 东京站 → 成田机场：N'EX约3,000日元 ≈ **150元/人**
- 或选择利木津巴士直达酒店门口，票价相近

**🎫 门票**：无  
**当日总支出（两人）**：约 **600元**

---

## ✅ 总结：5天实际花费（两人合计）

| 项目 | 费用（人民币） |
|------|----------------|
| 机票 | 3,600 |
| 住宿（4晚） | 2,400 |
| 餐饮 | 2,000 |
| 交通 | 600 |
| 门票及杂费 | 400 |
| **总计** | **9,000 元** |

> 💡 剩余1,000元可用于升级一餐怀石料理、购买更多手信或应对汇率波动。

---

## 🌟 特别提示

1. **交通卡必备**：每人一张「Suica 或 PASMO 卡」，用于地铁、便利店、自动贩卖机。
2. **现金准备**：部分小餐馆、神社仅收现金，建议携带每人5,000~10,000日元现金。
3. **预约事项**：
   - SHIBUYA SKY 必须官网提前预约（https://shibuya-sky.com）
   - 若想去米其林推荐餐厅，建议提前1个月预约
4. **季节调整建议**：
   - 春季（3-4月）：优先安排上野公园、新宿御苑赏樱
   - 秋季（10-11月）：高尾山红叶绝美，不可错过

---

## 📍 真实地标名称汇总（可谷歌地图搜索）

| 类型 | 地标名称（英文/中文） |
|------|------------------------|
| 公园 | Ueno Park / 上野恩赐公园 |
| 寺庙 | Sensō-ji / 浅草寺 |
| 山岳 | Mount Takao / 高尾山 |
| 城市景观 | Shibuya Scramble Crossing / 涩谷十字路口 |
| 展望台 | SHIBUYA SKY |
| 商圈 | Takeshita Street / 竹下通 |
| 市场 | Tsukiji Outer Market / 筑地市场外场 |
| 宫殿 | Imperial Palace Outer Garden / 皇居外苑 |
| 酒店参考 | Hotel Gracery Shinjuku / 新宿格拉斯丽酒店 |

---

✅ 本行程完美融合**自然生态**与**地道美食**，节奏适中，适合情侣或好友出行，在万元预算内实现深度东京体验。祝旅途愉快，食得满足，心获安宁！🌸🍜🌲
```